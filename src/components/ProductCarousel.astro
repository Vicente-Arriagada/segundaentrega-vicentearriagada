---
import CarouselCard from './CarouselCard.astro';
const { productos, titulo } = Astro.props;
---

<section class="py-12">
  <h2 class="text-3xl font-extrabold text-gray-900 mb-8 text-center">{titulo}</h2>
  
  <div class="relative">
    
    <div 
      id="carousel-container" 
      class="flex overflow-x-auto gap-4 py-4 snap-x snap-mandatory scroll-smooth scrollbar-hide">
      {productos.map((producto: any) => (
        <div class="snap-start flex-shrink-0 w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4">
          <div class="h-full">
            <CarouselCard producto={producto} />
          </div>
        </div>
      ))}
    </div>

    <button 
      id="prev-btn" 
      class="absolute top-1/2 left-0 -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full w-10 h-10 hidden md:flex items-center justify-center shadow-md hover:bg-white focus:outline-none disabled:opacity-0 disabled:cursor-not-allowed transition-all text-2xl font-bold text-gray-800">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    
    <button 
      id="next-btn"
      class="absolute top-1/2 right-0 -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full w-10 h-10 hidden md:flex items-center justify-center shadow-md hover:bg-white focus:outline-none disabled:opacity-0 disabled:cursor-not-allowed transition-all text-2xl font-bold text-gray-800">
      <i class="fa-solid fa-arrow-right"></i>
    </button>
  </div>
</section>


<script client:load> // Funcion para carrusel 
  

  const container = document.getElementById("carousel-container");
  const prevBtn = document.getElementById("prev-btn");
  const nextBtn = document.getElementById("next-btn");

  if (container && prevBtn && nextBtn) {


    nextBtn.addEventListener("click", () => {
      container.scrollLeft += container.clientWidth;
    });

 
    prevBtn.addEventListener("click", () => {
      container.scrollLeft -= container.clientWidth;
    });
  }
</script>

<style is:global>
  @media (max-width: 767px) {
    .scrollbar-hide-mobile {
      scrollbar-width: none;
    }
    .scrollbar-hide-mobile::-webkit-scrollbar {
      display: none;
    }
  }
</style>